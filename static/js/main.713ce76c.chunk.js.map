{"version":3,"sources":["utils/actions.js","utils/reducers-party.js","utils/GlobalState.js","localization.js","components/MainMenu/MainMenu.js","components/UI/MenuScroll/MenuScroll.js","lib/systemLib.js","components/UI/ListSelect/ListSelect.js","components/UI/AttributeDisplay/AttributeDisplay.js","components/UI/SkillDisplay/SkillDisplay.js","components/CharacterCreation/Stats/CharacterCreationStats.js","assets/images/sprites/null.png","assets/images/sprites/character/skin/m.png","assets/images/sprites/character/eyes.png","assets/images/sprites/character/hair/m/0f.png","lib/spriteAtlas.js","utils/random.js","utils/namegeneration.js","components/CharacterCreation/Customize/CharacterCreationCustomize.js","components/NewGame/NewGame.js","pages/GameMenu/GameMenu.js","App.js","serviceWorker.js","reportWebVitals.js","index.js"],"names":["SET_PLAYER_CHARACTER","SET_PLAYER_NAME","SET_PLAYER_CUSTOMIZATION","reducer","state","action","newState","type","party","player","name","surname","customization","StoreContext","createContext","Provider","StoreProvider","value","initialState","props","useReducer","dispatch","useStoreContext","useContext","localizationList","language","strings","localize","key","curLookup","find","list","kvPair","MainMenu","transitionCallback","id","className","onClick","MenuScroll","MyComponent","height","width","delay","scrollRef","useRef","useState","undefined","delayTimer","setDelayTimer","showScroll","setShowScroll","styleProp","maxHeight","setTimeout","useEffect","clearTimeout","CSSTransition","nodeRef","in","appear","timeout","classNames","style","ref","closeScroll","systemLib","characterAttributeList","characterSkillList","SKILL_ALCHEMY","governed","SKILL_APPRAISE","SKILL_ARTIFICE","SKILL_LITERACY","SKILL_MELEE","SKILL_PARRY","SKILL_PERSUASION","SKILL_RELIGION","SKILL_RANGED","SKILL_RIDE","SKILL_STEALTH","SKILL_WOODCRAFT","characterSexTemplate","SEX_FEMALE","attributes","ATTRIBUTE_CHARISMA","ATTRIBUTE_ENDURANCE","ATTRIBUTE_FITNESS","SEX_MALE","isMale","characterFamilyTemplate","CHARACTER_FAMILY_MERCHANT","ATTRIBUTE_INTELLIGENCE","ATTRIBUTE_QUICKNESS","skillBonus","CHARACTER_FAMILY_NOBILITY","CHARACTER_FAMILY_PEASANT","CHARACTER_FAMILY_TOWNSFOLK","CHARACTER_FAMILY_TRADESMEN","characterBackgroundTemplate","CHARACTER_BACKGROUND_APOTHECARY","ATTRIBUTE_PERCEPTION","CHARACTER_BACKGROUND_APPRENTICE","CHARACTER_BACKGROUND_BANDIT","requirements","commoner","CHARACTER_BACKGROUND_COURTIER","noble","CHARACTER_BACKGROUND_FARMER","CHARACTER_BACKGROUND_HERMIT","CHARACTER_BACKGROUND_HUNTER","CHARACTER_BACKGROUND_LABORER","CHARACTER_BACKGROUND_MILITARY","male","CHARACTER_BACKGROUND_PROSTITUTE","female","CHARACTER_BACKGROUND_RELIGIOUS","CHARACTER_BACKGROUND_SEAMSTRESS","CHARACTER_BACKGROUND_SQUIRE","CHARACTER_BACKGROUND_STUDENT","CHARACTER_BACKGROUND_SWINDLER","CHARACTER_BACKGROUND_THIEF","CHARACTER_BACKGROUND_TRADER","CHARACTER_BACKGROUND_VAGABOND","characterTemperamentTemplate","CHARACTER_TEMPERAMENT_CHOLERIC","CHARACTER_TEMPERAMENT_MELANCHOLIC","CHARACTER_TEMPERAMENT_PHLEGMATIC","CHARACTER_TEMPERAMENT_SANGUINE","Character","copyMe","Object","keys","forEach","this","sex","family","skills","setAllStartingSkills","attribute","result","curTemplate","background","temperament","skill","skillPts","threshold","curSkill","Math","floor","getAttribute","setStartingSkillLevel","ListSelect","keyList","defaultValue","changeCallback","hoverCallback","selectedItem","SetSelectedItem","map","setSelection","onMouseEnter","doHoverCallback","AttributeDisplay","character","tooltipCallback","setTooltip","tooltip","SkillDisplay","getSkillLevel","CharacterCreationStats","setCharacter","tooltipText","setToolTipText","curTimeout","setCurTimeout","calculateValidOccupations","templates","filter","occupation","validOccupations","onMouseLeave","element","length","changeMode","skinColorMap","g","tone","halfTone","eyeColorMap","b","hairColorMap","r","characterAtlas","skin","m","source","skinMale","colorMap","f","skinFemale","eyes","hair0f","mHairBald","hair0b","nullImg","beard0f","beard0b","workingCanvas","document","createElement","loadedSprites","cacheCharacterSprite","char","num","handler","sexPath","min","tmpImage","Image","src","onload","ctx","getContext","clearRect","drawImage","tmpData","getImageData","imgData","px","finalR","finalG","finalB","applyColorMap","data","putImageData","toDataURL","getSpriteCount","getCharacterSprite","rndtable","rndindex","setRandomSeed","seed","random","getRandom","combine","original","addition","i","endsWith","substring","generateCityNameInternal","newPiece","nameSet","namedata","cities","nameForm","start","middle","toLowerCase","charAt","end","CharacterCreationCustomize","hairList","beardList","charName","setCharName","charSurname","setCharSurname","rotation","setRotation","curSkin","setCurSkin","curEyes","setCurEyes","hairStyle","curHairStyle","setCurHairStyle","beardStyle","curBeardStyle","setCurBeardStyle","hairColor","curHairColor","setCurHairColor","spritesLoaded","setSpritesLoaded","changeRotation","offset","newRotation","displayCharacterControls","func","doSpritePreload","cnt","placeholder","maxLength","onChange","event","target","isFemale","names","generateRandomName","noCityNames","surnames","replace","generateRandomSurname","backgroundImage","spriteCount","newSprite","newStyle","indexOf","NewGame","creationMode","setCreationMode","lastMode","setLastMode","mode","menuStates","GameMenu","menuRef","showItems","setShowItems","menuState","setMenuState","menuTransition","setMenuTransition","changeMenu","index","transition","App","useResizeDetector","scaleFactor","transform","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.713ce76c.chunk.js","sourcesContent":["// PARTY ACTIONS\r\nexport const SET_PLAYER_CHARACTER = \"PARTY_SET_PLAYER_CHARACTER\";\r\nexport const SET_PLAYER_NAME = \"PARTY_SET_PLAYER_NAME\";\r\nexport const SET_PLAYER_CUSTOMIZATION = \"PARTY_SET_PLAYER_CUSTOMIZATION\";","import { useReducer } from \"react\";\r\n\r\nimport {\r\n\tSET_PLAYER_CHARACTER,\r\n\tSET_PLAYER_NAME,\r\n\tSET_PLAYER_CUSTOMIZATION,\r\n} from \"./actions\";\r\n\r\nexport const reducer = (state, action) => {\r\n\tlet newState;\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SET_PLAYER_CHARACTER:\r\n\t\t\tnewState = { ...state };\r\n\r\n\t\t\tnewState.party.player = action.player;\r\n\r\n\t\t\treturn newState;\r\n\t\tcase SET_PLAYER_NAME:\r\n\t\t\tnewState = { ...state};\r\n\r\n\t\t\tnewState.party.player.name = action.name;\r\n\t\t\tnewState.party.player.surname = action.surname;\r\n\r\n\t\t\treturn newState;\r\n\t\tcase SET_PLAYER_CUSTOMIZATION:\r\n\t\t\tnewState = { ...state};\r\n\r\n\t\t\tnewState.party.player.customization = action.customization;\r\n\r\n\t\t\treturn newState;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport function usePartyReducer(initialState) {\r\n\treturn useReducer(reducer, initialState);\r\n}","import React, { createContext, useContext } from \"react\";\r\nimport { usePartyReducer } from \"./reducers-party\";\r\n\r\nconst StoreContext = createContext();\r\nconst { Provider } = StoreContext;\r\n\r\nconst StoreProvider = ({ value = [], ...props }) => {\r\n\t// Set default state here.\r\n\tconst [state, dispatch] = usePartyReducer({\r\n\t\tparty: {}\r\n\t});\r\n\treturn <Provider value={[state, dispatch]} {...props} />;\r\n};\r\n\r\nconst useStoreContext = () => {\r\n\treturn useContext(StoreContext);\r\n};\r\n\r\nexport { StoreProvider, useStoreContext };","const localizationList = [\r\n\t{\r\n\t\tlanguage: \"EN-US:\",\r\n\t\tstrings: [\r\n\t\t\t[ \"SEX_MALE\", \"Male\" ],\r\n\t\t\t[ \"SEX_MALE_ABBR\", \"M\" ],\r\n\t\t\t[ \"SEX_MALE_DESC\", \"Boys have a penis.\" ],\r\n\t\t\t[ \"SEX_FEMALE\", \"Female\" ],\r\n\t\t\t[ \"SEX_FEMALE_ABBR\", \"F\" ],\r\n\t\t\t[ \"SEX_FEMALE_DESC\", \"Girls have a vagina.\" ],\r\n\t\t\t[ \"ATTRIBUTE_CHARISMA\", \"Charisma\" ],\r\n\t\t\t[ \"ATTRIBUTE_CHARISMA_ABBR\", \"Cha\" ],\r\n\t\t\t[ \"ATTRIBUTE_CHARISMA_DESC\", \"Force of Personality.\" ],\r\n\t\t\t[ \"ATTRIBUTE_ENDURANCE\", \"Endurance\" ],\r\n\t\t\t[ \"ATTRIBUTE_ENDURANCE_ABBR\", \"End\" ],\r\n\t\t\t[ \"ATTRIBUTE_ENDURANCE_DESC\", \"Ability to withstand hardship.\" ],\r\n\t\t\t[ \"ATTRIBUTE_FITNESS\", \"Fitness\" ],\r\n\t\t\t[ \"ATTRIBUTE_FITNESS_ABBR\", \"Fit\" ],\r\n\t\t\t[ \"ATTRIBUTE_FITNESS_DESC\", \"Physical Aptitude.\" ],\r\n\t\t\t[ \"ATTRIBUTE_INTELLIGENCE\", \"Intelligence\" ],\r\n\t\t\t[ \"ATTRIBUTE_INTELLIGENCE_ABBR\", \"Int\" ],\r\n\t\t\t[ \"ATTRIBUTE_INTELLIGENCE_DESC\", \"Mental acuity and scholarly pursuits.\" ],\r\n\t\t\t[ \"ATTRIBUTE_PERCEPTION\", \"Perception\" ],\r\n\t\t\t[ \"ATTRIBUTE_PERCEPTION_ABBR\", \"Per\" ],\r\n\t\t\t[ \"ATTRIBUTE_PERCEPTION_DESC\", \"Detecting or deducing information.\" ],\r\n\t\t\t[ \"ATTRIBUTE_QUICKNESS\", \"Quickness\" ],\r\n\t\t\t[ \"ATTRIBUTE_QUICKNESS_ABBR\", \"Quk\" ],\r\n\t\t\t[ \"ATTRIBUTE_QUICKNESS_DESC\", \"Reaction time and hand-eye coordination.\" ],\r\n\t\t\t[ \"SKILL_ALCHEMY\", \"Alchemy\" ],\r\n\t\t\t[ \"SKILL_ALCHEMY_ABBR\", \"Alc\" ],\r\n\t\t\t[ \"SKILL_ALCHEMY_DESC\", \"(Per) Mixing of formulaic compounds for wondrous effects.\" ],\r\n\t\t\t[ \"SKILL_APPRAISE\", \"Appraise\" ],\r\n\t\t\t[ \"SKILL_APPRAISE_ABBR\", \"App\" ],\r\n\t\t\t[ \"SKILL_APPRAISE_DESC\", \"(Per) Determining the value of items.\" ],\r\n\t\t\t[ \"SKILL_ARTIFICE\", \"Artifice\" ],\r\n\t\t\t[ \"SKILL_ARTIFICE_ABBR\", \"Art\" ],\r\n\t\t\t[ \"SKILL_ARTIFICE_DESC\", \"(Quk) Performing minute tasks with one's hands.\" ],\r\n\t\t\t[ \"SKILL_LITERACY\", \"Literacy\" ],\r\n\t\t\t[ \"SKILL_LITERACY_ABBR\", \"Lit\" ],\r\n\t\t\t[ \"SKILL_LITERACY_DESC\", \"(Int) Reading and writing.\" ],\r\n\t\t\t[ \"SKILL_MELEE\", \"Melee\" ],\r\n\t\t\t[ \"SKILL_MELEE_ABBR\", \"Mle\" ],\r\n\t\t\t[ \"SKILL_MELEE_DESC\", \"(Fit) Proficiency in close combat.\" ],\r\n\t\t\t[ \"SKILL_PARRY\", \"Parry\" ],\r\n\t\t\t[ \"SKILL_PARRY_ABBR\", \"Pry\" ],\r\n\t\t\t[ \"SKILL_PARRY_DESC\", \"(End) Defending against attacks.\" ],\r\n\t\t\t[ \"SKILL_PERSUASION\", \"Persuasion\" ],\r\n\t\t\t[ \"SKILL_PERSUASION_ABBR\", \"Prs\" ],\r\n\t\t\t[ \"SKILL_PERSUASION_DESC\", \"(Cha) Convincing others.\" ],\r\n\t\t\t[ \"SKILL_RANGED\", \"Ranged\" ],\r\n\t\t\t[ \"SKILL_RANGED_ABBR\", \"Rng\" ],\r\n\t\t\t[ \"SKILL_RANGED_DESC\", \"(Quk) Proficiency with ranged weapons.\" ],\r\n\t\t\t[ \"SKILL_RELIGION\", \"Religion\" ],\r\n\t\t\t[ \"SKILL_RELIGION_ABBR\", \"Rel\" ],\r\n\t\t\t[ \"SKILL_RELIGION_DESC\", \"(Int) Learning the intricacies of faith.\" ],\r\n\t\t\t[ \"SKILL_RIDE\", \"Ride\" ],\r\n\t\t\t[ \"SKILL_RIDE_ABBR\", \"Rid\" ],\r\n\t\t\t[ \"SKILL_RIDE_DESC\", \"(Quk) Controlling a mount.\" ],\r\n\t\t\t[ \"SKILL_STEALTH\", \"Stealth\" ],\r\n\t\t\t[ \"SKILL_STEALTH_ABBR\", \"Stl\" ],\r\n\t\t\t[ \"SKILL_STEALTH_DESC\", \"(Quk) Avoiding detection\" ],\r\n\t\t\t[ \"SKILL_WOODCRAFT\", \"Woodcraft\" ],\r\n\t\t\t[ \"SKILL_WOODCRAFT_ABBR\", \"WdC\" ],\r\n\t\t\t[ \"SKILL_WOODCRAFT_DESC\", \"(Per) Surviving in the wilderness.\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_MERCHANT\", \"Merchants\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_MERCHANT_DESC\", \"Cosmopolitan and well-to-do.\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_NOBILITY\", \"Nobility\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_NOBILITY_DESC\", \"Highborn and well-educated.\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_PEASANT\", \"Peasants\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_PEASANT_DESC\", \"Commoners accustomed to rough country living.\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_TOWNSFOLK\", \"Townsfolk\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_TOWNSFOLK_DESC\", \"Commoners who hail from a city or town.\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_TRADESMEN\", \"Tradesmen\" ],\r\n\t\t\t[ \"CHARACTER_FAMILY_TRADESMEN_DESC\", \"Comfortable life as the child of a smith or artisan.\" ],\r\n\t\t\t[ \"CHARACTER_TEMPERAMENT_CHOLERIC\", \"Choleric\" ],\r\n\t\t\t[ \"CHARACTER_TEMPERAMENT_CHOLERIC_DESC\", \"Impulsive and inspiring.\" ],\r\n\t\t\t[ \"CHARACTER_TEMPERAMENT_MELANCHOLIC\", \"Melancholic\" ],\r\n\t\t\t[ \"CHARACTER_TEMPERAMENT_MELANCHOLIC_DESC\", \"Sensitive and diligent.\" ],\r\n\t\t\t[ \"CHARACTER_TEMPERAMENT_PHLEGMATIC\", \"Phlegmatic\" ],\r\n\t\t\t[ \"CHARACTER_TEMPERAMENT_PHLEGMATIC_DESC\", \"Steadfast and caring.\" ],\r\n\t\t\t[ \"CHARACTER_TEMPERAMENT_SANGUINE\", \"Sanguine\" ],\r\n\t\t\t[ \"CHARACTER_TEMPERAMENT_SANGUINE_DESC\", \"Outgoing and artistic.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_APPRENTICE\", \"Apprentice\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_APPRENTICE_DESC\", \"Learning a trade such as smithing.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_APOTHECARY\", \"Apothecary\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_APOTHECARY_DESC\", \"Specialist in medicinal concoctions.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_BANDIT\", \"Bandit\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_BANDIT_DESC\", \"A criminal who takes money by threat of force.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_COURTIER\", \"Courtier\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_COURTIER_DESC\", \"Accustomed to a leisurely life of nobility.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_FARMER\", \"Farmer\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_FARMER_DESC\", \"Growing crops and tending livestock.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_HERMIT\", \"Hermit\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_HERMIT_DESC\", \"Living a quiet, isolated life.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_HUNTER\", \"Hunter\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_HUNTER_DESC\", \"Stalking and killing animals for meat and fur.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_LABORER\", \"Laborer\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_LABORER_DESC\", \"Menial, arduous employment.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_MILITARY\", \"Military Recruit\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_MILITARY_DESC\", \"A soldier or guardsman.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_RELIGIOUS\", \"Religious Initiate\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_RELIGIOUS_DESC\", \"A neophyte in a religious order.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_PROSTITUTE\", \"Prostitute\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_PROSTITUTE_DESC\", \"The oldest profession.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_SEAMSTRESS\", \"Seamstress\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_SEAMSTRESS_DESC\", \"Making and mending clothing and other fabrics.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_SQUIRE\", \"Squire\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_SQUIRE_DESC\", \"Training to one day become a knight.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_STUDENT\", \"Student\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_STUDENT_DESC\", \"Training to become a scholar of note.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_SWINDLER\", \"Swindler\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_SWINDLER_DESC\", \"A scoundrel who cheats people of their money.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_THIEF\", \"Thief\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_THIEF_DESC\", \"A burglar or cutpurse.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_TRADER\", \"Trader\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_TRADER_DESC\", \"A shopkeep or traveling trader.\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_VAGABOND\", \"Vagabond\" ],\r\n\t\t\t[ \"CHARACTER_BACKGROUND_VAGABOND_DESC\", \"A drifter.\" ],\r\n\t\t\t[ \"MAIN_START_NEW_GAME\", \"Start New Game\" ],\r\n\t\t\t[ \"MENU_CREATE_CHARACTER\", \"Create Character\" ],\r\n\t\t\t[ \"BUTTON_START_GAME\", \"Start the Adventure!\" ],\r\n\t\t\t[ \"BUTTON_CONTINUE\", \"Continue\" ],\r\n\t\t\t[ \"BUTTON_BACK\", \"Back\" ],\r\n\t\t\t[ \"BUTTON_RANDOM\", \"Random\" ],\r\n\t\t\t[ \"CHARACTER_SEX\", \"Sex\" ],\r\n\t\t\t[ \"CHARACTER_UPBRINGING\", \"Upbringing\" ],\r\n\t\t\t[ \"CHARACTER_TEMPERAMENT\", \"Temperament\" ],\r\n\t\t\t[ \"CHARACTER_OCCUPATION\", \"Occupation\" ],\r\n\t\t\t[ \"CHARACTER_ATTRIBUTES\", \"Attributes\" ],\r\n\t\t\t[ \"CHARACTER_ATTRIBUTES_DESC\", \"Attributes are determined by sex, upbringing, occupation, and temperament.\" ],\r\n\t\t\t[ \"CHARACTER_SKILLS\", \"Skills\" ],\r\n\t\t\t[ \"CHARACTER_SKILLS_DESC\", \"Base skill is Attr/5, with bonuses from upbringing, occupation, and temperament.\" ],\r\n\t\t\t[ \"CHARACTER_NAME\", \"Name\" ],\r\n\t\t\t[ \"CHARACTER_SURNAME\", \"Surname\" ],\r\n\t\t\t[ \"CHARACTER_NAME_OF\", \"of {CITY}\" ],\r\n\t\t\t[ \"CUSTOMIZE_SKIN\", \"Skin\" ],\r\n\t\t\t[ \"CUSTOMIZE_EYES\", \"Eyes\" ],\r\n\t\t\t[ \"CUSTOMIZE_HAIR_STYLE\", \"Hair\" ],\r\n\t\t\t[ \"CUSTOMIZE_HAIR_FACIAL\", \"Beard\" ],\r\n\t\t\t[ \"CUSTOMIZE_HAIR_COLOR\", \"Color\" ],\r\n\t\t]\r\n\t}\r\n];\r\n\r\nfunction localize(key) {\r\n\tconst language = \"EN-US\"; // TODO - Use global state!\r\n\tconst curLang = localizationList.find(list => list.language === language) || localizationList[0];\r\n\r\n\tconst curLookup = curLang.strings.find(kvPair => kvPair[0] === key) || localizationList[0].strings.find(kvPair => kvPair[0] === key);\r\n\r\n\tif (curLookup) {\r\n\t\treturn curLookup[1];\r\n\t} else {\r\n\t\treturn key;\r\n\t}\r\n}\r\n\r\nexport default localize;","import localize from \"../../localization\";\r\nimport './MainMenu.css';\r\n\r\nfunction MainMenu({ transitionCallback }) {\r\n\treturn (\r\n\t\t<div id=\"mainMenu\">\r\n\t\t\t<h1>Germanic</h1>\r\n\t\t\t<div id=\"mainList\">\r\n\t\t\t\t<div className=\"cursorGlow\" onClick={() => {transitionCallback(1)}}>{localize(\"MAIN_START_NEW_GAME\")}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default MainMenu;","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport './MenuScroll.css';\r\n\r\nfunction MenuScroll({ MyComponent, height, width, delay, props }) {\r\n\tconst scrollRef = useRef(null);\r\n\tconst [delayTimer, setDelayTimer] = useState(undefined);\r\n\tconst [showScroll, setShowScroll] = useState(!delay);\r\n\r\n\tconst styleProp = {\r\n\t\tmaxHeight: height,\r\n\t\twidth: width\r\n\t};\r\n\r\n\tif ((!delayTimer) && (delay)) {\r\n\t\tsetDelayTimer(setTimeout(() => { setShowScroll(true) }, delay));\r\n\t}\r\n\r\n\tconst closeScroll = () => {\r\n\t\tsetShowScroll(false);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => { clearTimeout(delayTimer); }\r\n\t}, [ delayTimer ]);\r\n\r\n\treturn (\r\n\t\t<CSSTransition\r\n\t\t\tnodeRef={scrollRef}\r\n\t\t\tin={showScroll}\r\n\t\t\tappear={showScroll}\r\n\t\t\ttimeout={500}\r\n\t\t\tclassNames=\"show\"\r\n\t\t>\r\n\t\t\t<div className=\"menuScroll\" style={styleProp} ref={scrollRef}>\r\n\t\t\t\t<MyComponent props={props} closeScroll={closeScroll} />\r\n\t\t\t</div>\r\n\t\t</CSSTransition>\r\n\t);\r\n}\r\n\r\nexport default MenuScroll;","export const systemLib = {\r\n\tcharacterAttributeList: [\r\n\t\t\"ATTRIBUTE_CHARISMA\",\r\n\t\t\"ATTRIBUTE_ENDURANCE\",\r\n\t\t\"ATTRIBUTE_FITNESS\",\r\n\t\t\"ATTRIBUTE_INTELLIGENCE\",\r\n\t\t\"ATTRIBUTE_PERCEPTION\",\r\n\t\t\"ATTRIBUTE_QUICKNESS\"\r\n\t],\r\n\r\n\tcharacterSkillList: {\r\n\t\tSKILL_ALCHEMY: {\r\n\t\t\tgoverned: \"ATTRIBUTE_PERCEPTION\"\r\n\t\t},\r\n\t\tSKILL_APPRAISE: {\r\n\t\t\tgoverned: \"ATTRIBUTE_PERCEPTION\"\r\n\t\t},\r\n\t\tSKILL_ARTIFICE: {\r\n\t\t\tgoverned: \"ATTRIBUTE_QUICKNESS\"\r\n\t\t},\r\n\t\tSKILL_LITERACY: {\r\n\t\t\tgoverned: \"ATTRIBUTE_INTELLIGENCE\"\r\n\t\t},\r\n\t\tSKILL_MELEE: {\r\n\t\t\tgoverned: \"ATTRIBUTE_FITNESS\"\r\n\t\t},\r\n\t\tSKILL_PARRY: {\r\n\t\t\tgoverned: \"ATTRIBUTE_ENDURANCE\"\r\n\t\t},\r\n\t\tSKILL_PERSUASION: {\r\n\t\t\tgoverned: \"ATTRIBUTE_CHARISMA\"\r\n\t\t},\r\n\t\tSKILL_RELIGION: {\r\n\t\t\tgoverned: \"ATTRIBUTE_INTELLIGENCE\"\r\n\t\t},\r\n\t\tSKILL_RANGED: {\r\n\t\t\tgoverned: \"ATTRIBUTE_QUICKNESS\"\r\n\t\t},\r\n\t\tSKILL_RIDE: {\r\n\t\t\tgoverned: \"ATTRIBUTE_QUICKNESS\"\r\n\t\t},\r\n\t\tSKILL_STEALTH: {\r\n\t\t\tgoverned: \"ATTRIBUTE_QUICKNESS\"\r\n\t\t},\r\n\t\tSKILL_WOODCRAFT: {\r\n\t\t\tgoverned: \"ATTRIBUTE_PERCEPTION\"\r\n\t\t}\r\n\t},\r\n\r\n\tcharacterSexTemplate: {\r\n\t\tSEX_FEMALE: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 5,\r\n\t\t\t\tATTRIBUTE_ENDURANCE: 5,\r\n\t\t\t\tATTRIBUTE_FITNESS: -10\r\n\t\t\t}\r\n\t\t},\r\n\t\tSEX_MALE: {\r\n\t\t\tattributes: { },\r\n\t\t\tisMale: true\r\n\t\t}\r\n\t},\r\n\r\n\tcharacterFamilyTemplate: {\r\n\t\tCHARACTER_FAMILY_MERCHANT: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 10,\r\n\t\t\t\tATTRIBUTE_FITNESS: -10,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: 5,\r\n\t\t\t\tATTRIBUTE_QUICKNESS: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_APPRAISE\"\r\n\t\t},\r\n\t\tCHARACTER_FAMILY_NOBILITY: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 5,\r\n\t\t\t\tATTRIBUTE_ENDURANCE: -5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: 5,\r\n\t\t\t\tATTRIBUTE_QUICKNESS: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_LITERACY\",\r\n\t\t},\r\n\t\tCHARACTER_FAMILY_PEASANT: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: -5,\r\n\t\t\t\tATTRIBUTE_ENDURANCE: 10,\r\n\t\t\t\tATTRIBUTE_FITNESS: 5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -10\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_WOODCRAFT\"\r\n\t\t},\r\n\t\tCHARACTER_FAMILY_TOWNSFOLK: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 5,\r\n\t\t\t\tATTRIBUTE_FITNESS: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_PERSUASION\"\r\n\t\t},\r\n\t\tCHARACTER_FAMILY_TRADESMEN: {\r\n\t\t\tattributes: {}, // Baseline\r\n\t\t\tskillBonus: \"SKILL_ARTIFICE\"\r\n\t\t}\r\n\t},\r\n\r\n\tcharacterBackgroundTemplate: {\r\n\t\tCHARACTER_BACKGROUND_APOTHECARY: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_FITNESS: -5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: 5,\r\n\t\t\t\tATTRIBUTE_PERCEPTION: 5,\r\n\t\t\t\tATTRIBUTE_QUICKNESS: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_ALCHEMY\"\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_APPRENTICE: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_PERCEPTION: 5,\r\n\t\t\t\tATTRIBUTE_QUICKNESS: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_APPRAISE\"\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_BANDIT: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: -5,\r\n\t\t\t\tATTRIBUTE_FITNESS: 5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5,\r\n\t\t\t\tATTRIBUTE_PERCEPTION: 5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_STEALTH\",\r\n\t\t\trequirements: {\r\n\t\t\t\tcommoner: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_COURTIER: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 5,\r\n\t\t\t\tATTRIBUTE_ENDURANCE: -5,\r\n\t\t\t\tATTRIBUTE_FITNESS: -5,\r\n\t\t\t\tATTRIBUTE_PERCEPTION: 5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_PERSUASION\",\r\n\t\t\trequirements: {\r\n\t\t\t\tnoble: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_FARMER: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_ENDURANCE: 5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_RIDING\",\r\n\t\t\trequirements: {\r\n\t\t\t\tcommoner: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_HERMIT: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: -5,\r\n\t\t\t\tATTRIBUTE_ENDURANCE: 5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_WOODCRAFT\"\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_HUNTER: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: -5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5,\r\n\t\t\t\tATTRIBUTE_PERCEPTION: 5,\r\n\t\t\t\tATTRIBUTE_QUICKNESS: 5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_WOODCRAFT\"\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_LABORER: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_ENDURANCE: 5,\r\n\t\t\t\tATTRIBUTE_FITNESS: 5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5,\r\n\t\t\t\tATTRIBUTE_QUICKNESS: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_MELEE\",\r\n\t\t\trequirements: {\r\n\t\t\t\tcommoner: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_MILITARY: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: -5,\r\n\t\t\t\tATTRIBUTE_ENDURANCE: 5,\r\n\t\t\t\tATTRIBUTE_FITNESS: 5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_PARRY\",\r\n\t\t\trequirements: {\r\n\t\t\t\tcommoner: true,\r\n\t\t\t\tmale: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_PROSTITUTE: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_PERSUASION\",\r\n\t\t\trequirements: {\r\n\t\t\t\tcommoner: true,\r\n\t\t\t\tfemale: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_RELIGIOUS: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_ENDURANCE: -5,\r\n\t\t\t\tATTRIBUTE_FITNESS: -5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: 10\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_RELIGION\"\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_SEAMSTRESS: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_ENDURANCE: 5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_ARTIFICE\",\r\n\t\t\trequirements: {\r\n\t\t\t\tfemale: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_SQUIRE: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_FITNESS: 5,\r\n\t\t\t\tATTRIBUTE_PERCEPTION: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_RIDING\",\r\n\t\t\trequirements: {\r\n\t\t\t\tmale: true,\r\n\t\t\t\tnoble: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_STUDENT: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_FITNESS: -5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: 5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_LITERACY\"\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_SWINDLER: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 5,\r\n\t\t\t\tATTRIBUTE_ENDURANCE: -5,\r\n\t\t\t\tATTRIBUTE_FITNESS: -5,\r\n\t\t\t\tATTRIBUTE_QUICKNESS: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_PERSUASION\"\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_THIEF: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_ENDURANCE: -5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5,\r\n\t\t\t\tATTRIBUTE_PERCEPTION: 5,\r\n\t\t\t\tATTRIBUTE_QUICKNESS: 5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_STEALTH\",\r\n\t\t\trequirements: {\r\n\t\t\t\tcommoner: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_TRADER: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 5,\r\n\t\t\t\tATTRIBUTE_QUICKNESS: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_APPRAISE\"\r\n\t\t},\r\n\t\tCHARACTER_BACKGROUND_VAGABOND: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_ENDURANCE: 5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_WOODCRAFT\"\r\n\t\t}\r\n\t},\r\n\r\n\tcharacterTemperamentTemplate: {\r\n\t\tCHARACTER_TEMPERAMENT_CHOLERIC: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 5,\r\n\t\t\t\tATTRIBUTE_PERCEPTION: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_PERSUASION\"\r\n\t\t},\r\n\t\tCHARACTER_TEMPERAMENT_MELANCHOLIC: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: -5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: 5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_LITERACY\"\r\n\t\t},\r\n\t\tCHARACTER_TEMPERAMENT_PHLEGMATIC: {\r\n\t\t\tattributes: {},\r\n\t\t\tskillBonus: \"SKILL_ALCHEMY\"\r\n\t\t},\r\n\t\tCHARACTER_TEMPERAMENT_SANGUINE: {\r\n\t\t\tattributes: {\r\n\t\t\t\tATTRIBUTE_CHARISMA: 5,\r\n\t\t\t\tATTRIBUTE_INTELLIGENCE: -5\r\n\t\t\t},\r\n\t\t\tskillBonus: \"SKILL_APPRAISE\"\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport class Character {\r\n\tconstructor(copyMe) {\r\n\t\tif (copyMe) {\r\n\t\t\tObject.keys(copyMe).forEach(key => {\r\n\t\t\t\tthis[key] = copyMe[key];\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.name = \"\";\r\n\t\t\tthis.sex = \"SEX_MALE\";\r\n\t\t\tthis.family = \"CHARACTER_FAMILY_PEASANT\";\r\n\t\t\tthis.skills = {};\r\n\t\t}\r\n\r\n\t\tthis.setAllStartingSkills();\r\n\t}\r\n\r\n\tgetAttribute(attribute) {\r\n\t\tlet result = 50;\r\n\r\n\t\tif (this.sex) {\r\n\t\t\tlet curTemplate = systemLib.characterSexTemplate[this.sex];\r\n\t\t\tif (curTemplate.attributes[attribute])\r\n\t\t\t\tresult += curTemplate.attributes[attribute];\r\n\t\t}\r\n\r\n\t\tif (this.family) {\r\n\t\t\tlet curTemplate = systemLib.characterFamilyTemplate[this.family];\r\n\t\t\tif (curTemplate.attributes[attribute])\r\n\t\t\t\tresult += curTemplate.attributes[attribute];\r\n\t\t}\r\n\r\n\t\tif (this.background) {\r\n\t\t\tlet curTemplate = systemLib.characterBackgroundTemplate[this.background];\r\n\t\t\tif (curTemplate.attributes[attribute])\r\n\t\t\t\tresult += curTemplate.attributes[attribute];\r\n\t\t}\r\n\r\n\t\tif (this.temperament) {\r\n\t\t\tlet curTemplate = systemLib.characterTemperamentTemplate[this.temperament];\r\n\t\t\tif (curTemplate.attributes[attribute])\r\n\t\t\t\tresult += curTemplate.attributes[attribute];\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetSkillLevel(skill) {\r\n\t\tlet skillPts = this.skills[skill];\r\n\r\n\t\tif (!skillPts)\r\n\t\t\treturn 0;\r\n\r\n\t\tlet threshold = 0;\r\n\r\n\t\twhile (skillPts >= (1 << threshold)) {\r\n\t\t\tthreshold++;\r\n\t\t}\r\n\r\n\t\treturn threshold - 1;\r\n\t}\r\n\r\n\tsetStartingSkillLevel(skill) {\r\n\t\tlet curSkill = systemLib.characterSkillList[skill];\r\n\r\n\t\tif (!curSkill)\r\n\t\t\treturn -1;\r\n\r\n\t\tlet result = Math.floor(this.getAttribute(curSkill.governed) / 5);\r\n\r\n\t\tif (this.family) {\r\n\t\t\tlet curTemplate = systemLib.characterFamilyTemplate[this.family];\r\n\t\t\tif (curTemplate.skillBonus === skill)\r\n\t\t\t\tresult ++;\r\n\t\t}\r\n\r\n\t\tif (this.background) {\r\n\t\t\tlet curTemplate = systemLib.characterBackgroundTemplate[this.background];\r\n\t\t\tif (curTemplate.skillBonus === skill)\r\n\t\t\t\tresult ++;\r\n\t\t}\r\n\r\n\t\tif (this.temperament) {\r\n\t\t\tlet curTemplate = systemLib.characterTemperamentTemplate[this.temperament];\r\n\t\t\tif (curTemplate.skillBonus === skill)\r\n\t\t\t\tresult ++;\r\n\t\t}\r\n\r\n\t\tthis.skills[skill] = 1 << result;\r\n\t}\r\n\r\n\tsetAllStartingSkills() {\r\n\t\tObject.keys(systemLib.characterSkillList).forEach(key => {\r\n\t\t\tthis.setStartingSkillLevel(key);\r\n\t\t});\r\n\t}\r\n}","import localize from \"../../../localization\";\r\nimport React, { useState } from \"react\";\r\nimport './ListSelect.css';\r\n\r\nfunction ListSelect({ height, width, keyList, defaultValue, changeCallback, hoverCallback }) {\r\n\tconst [ selectedItem, SetSelectedItem ] = useState(defaultValue);\r\n\tconst styleProp = {\r\n\t\theight,\r\n\t\twidth\r\n\t};\r\n\r\n\tconst setSelection = (key) => {\r\n\t\tif (key !== selectedItem)\r\n\t\t{\r\n\t\t\tSetSelectedItem(key);\r\n\t\t\tchangeCallback(key);\r\n\t\t}\r\n\t}\r\n\r\n\tconst doHoverCallback = (key) => {\r\n\t\tif (hoverCallback)\r\n\t\t\thoverCallback(key);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"listSelect\" style={styleProp}>\r\n\t\t\t{ keyList.map(key => <div className={(defaultValue === key) ? \" selected\" : \"cursorActive\"} key={key} onClick={() => {setSelection(key);}} onMouseEnter={() => {doHoverCallback(key);}}>{localize(key)}</div>)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ListSelect;","import localize from \"../../../localization\";\r\nimport { systemLib } from \"../../../lib/systemLib\";\r\nimport './AttributeDisplay.css';\r\n\r\nfunction AttributeDisplay({ character, tooltipCallback }) {\r\n\tconst setTooltip = (tooltip) => {\r\n\t\tif (tooltipCallback) {\r\n\t\t\ttooltipCallback(tooltip);\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"attributeDisplay\">\r\n\t\t\t<h2 onMouseEnter={() => {setTooltip(\"CHARACTER_ATTRIBUTES\")}}>{localize(\"CHARACTER_ATTRIBUTES\")}</h2>\r\n\t\t\t{systemLib.characterAttributeList.map(attribute => {\r\n\t\t\t\treturn <div key={attribute} onMouseEnter={() => {setTooltip(attribute)}}>\r\n\t\t\t\t\t<div>{localize(attribute)}</div>\r\n\t\t\t\t\t<div>{character.getAttribute(attribute)}</div>\r\n\t\t\t\t</div>\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AttributeDisplay;","import localize from \"../../../localization\";\r\nimport { systemLib } from \"../../../lib/systemLib\";\r\nimport './SkillDisplay.css';\r\n\r\nfunction SkillDisplay({ character, tooltipCallback }) {\r\n\tconst setTooltip = (tooltip) => {\r\n\t\tif (tooltipCallback) {\r\n\t\t\ttooltipCallback(tooltip);\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"skillDisplay\">\r\n\t\t\t<h2 onMouseEnter={() => {setTooltip(\"CHARACTER_SKILLS\")}}>{localize(\"CHARACTER_SKILLS\")}</h2>\r\n\t\t\t{Object.keys(systemLib.characterSkillList).map(key => {\r\n\t\t\t\treturn <div key={key} onMouseEnter={() => {tooltipCallback(key)}}>\r\n\t\t\t\t\t<div>{localize(key)}</div>\r\n\t\t\t\t\t<div>{character.getSkillLevel(key)}</div>\r\n\t\t\t\t</div>\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SkillDisplay;","import localize from \"../../../localization\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { systemLib, Character } from \"../../../lib/systemLib\";\r\nimport ListSelect from \"../../UI/ListSelect/ListSelect\";\r\nimport AttributeDisplay from \"../../UI/AttributeDisplay/AttributeDisplay\";\r\nimport SkillDisplay from \"../../UI/SkillDisplay/SkillDisplay\";\r\n\r\nimport { SET_PLAYER_CHARACTER } from \"../../../utils/actions\";\r\nimport { useStoreContext } from \"../../../utils/GlobalState\";\r\n\r\nimport './CharacterCreationStats.css';\r\n\r\nfunction CharacterCreationStats({props, closeScroll}) {\r\n\tconst [state, dispatch] = useStoreContext();\r\n\tconst [character, setCharacter] = useState(state.party?.player || new Character());\r\n\tconst [tooltipText, setToolTipText] = useState(\"\");\r\n\tconst [curTimeout, setCurTimeout] = useState(undefined);\r\n\r\n\tconst calculateValidOccupations = (sex, family) => {\r\n\t\tlet templates = systemLib.characterBackgroundTemplate;\r\n\t\treturn Object.keys(templates).filter(occupation => {\r\n\t\t\tlet requirements = templates[occupation].requirements;\r\n\t\t\tif (requirements) {\r\n\t\t\t\tif ((requirements.male) && (sex !== \"SEX_MALE\"))\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t\tif ((requirements.female) && (sex !== \"SEX_FEMALE\"))\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t\tif ((requirements.noble) && (family !== \"CHARACTER_FAMILY_NOBILITY\"))\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t\tif ((requirements.commoner) && (family === \"CHARACTER_FAMILY_NOBILITY\"))\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t});\r\n\t}\r\n\r\n\tlet validOccupations = calculateValidOccupations(character.sex, character.family);\r\n\r\n\r\n\tconst setTooltip = (key) => {\r\n\t\tif (key)\r\n\t\t\tsetToolTipText(localize(key + \"_DESC\"));\r\n\t\telse\r\n\t\t\tsetToolTipText(\"\");\r\n\t}\r\n\r\n\tconst setSex = (sex) => {\r\n\t\tvalidOccupations = calculateValidOccupations(sex, character.family);\r\n\r\n\t\tif (!validOccupations.find(element => element === character.background))\r\n\t\t\tdelete character.background;\r\n\t\t\r\n\t\tdelete character.name;\r\n\t\tdelete character.surname;\r\n\t\tdelete character.customization;\r\n\r\n\t\tsetCharacter(new Character({...character, sex}));\t\t\t\r\n\t}\r\n\r\n\tconst setUpbringing = (family) => {\r\n\t\tsetCharacter(new Character({...character, family}));\r\n\t}\r\n\r\n\tconst setTemperament = (temperament) => {\r\n\t\tsetCharacter(new Character({...character, temperament}));\r\n\t}\r\n\r\n\tconst setOccupation = (background) => {\r\n\t\tsetCharacter(new Character({...character, background}));\r\n\t}\r\n\r\n\tconst finishStats = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: SET_PLAYER_CHARACTER,\r\n\t\t\tplayer: character\r\n\t\t});\r\n\t\tcloseScroll();\r\n\t\tsetCurTimeout(setTimeout(() => { props.changeMode(1); }, 500));\r\n\t}\r\n\r\n\tconst cancelStats = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: SET_PLAYER_CHARACTER,\r\n\t\t\tplayer: null\r\n\t\t});\r\n\t\tcloseScroll();\r\n\t\tsetCurTimeout(setTimeout(() => { props.changeMode(-1); }, 500));\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => { clearTimeout(curTimeout); }\r\n\t}, [ curTimeout ]);\r\n\r\n\treturn (\r\n\t\t<div id=\"charCreateStats\" onMouseLeave={() => {setTooltip(\"\")}}>\r\n\t\t\t<h1>{localize(\"MENU_CREATE_CHARACTER\")}</h1>\r\n\t\t\t<div id=\"statContainer\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>{localize(\"CHARACTER_SEX\")}</h2>\r\n\t\t\t\t\t\t<ListSelect height={24} width={84} keyList={Object.keys(systemLib.characterSexTemplate)} defaultValue={character.sex} changeCallback={setSex} hoverCallback={setTooltip} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>{localize(\"CHARACTER_UPBRINGING\")}</h2>\r\n\t\t\t\t\t\t<ListSelect height={60} width={84} keyList={Object.keys(systemLib.characterFamilyTemplate)} defaultValue={character.family} changeCallback={setUpbringing} hoverCallback={setTooltip} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>{localize(\"CHARACTER_TEMPERAMENT\")}</h2>\r\n\t\t\t\t\t\t<ListSelect height={48} width={84} keyList={Object.keys(systemLib.characterTemperamentTemplate)} defaultValue={character.temperament} changeCallback={setTemperament} hoverCallback={setTooltip} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>{localize(\"CHARACTER_OCCUPATION\")}</h2>\r\n\t\t\t\t\t<ListSelect height={12 * validOccupations.length} width={84} keyList={validOccupations} defaultValue={character.background} changeCallback={setOccupation} hoverCallback={setTooltip} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<AttributeDisplay character={character} tooltipCallback={setTooltip} />\r\n\t\t\t\t<SkillDisplay character={character} tooltipCallback={setTooltip} />\r\n\t\t\t\t<div id=\"createCharacterButtonHolder\">\r\n\t\t\t\t\t<div className={((character.sex) && (character.family) && (character.temperament) && (character.background)) ? \"cursorGlow\" : \"inactive\"} onClick={finishStats}>{localize(\"BUTTON_CONTINUE\")}</div>\r\n\t\t\t\t\t<div className=\"cursorGlow\" onClick={cancelStats}>{localize(\"BUTTON_BACK\")}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"statTooltip\">{tooltipText}</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CharacterCreationStats;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAQMAAABtzGvEAAAABlBMVEUFAAAAAAD1qih8AAAAAXRSTlMAQObYZgAAAA1JREFUGNNjYBgF1AQAAVAAAafi2hYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAAwAgMAAABlFEXtAAAADFBMVEUC3w8AgAAAwAAA/wCddH6KAAAAAXRSTlMAQObYZgAABINJREFUWMPtVjtvG0cQvgfMACSsq1I4LNiLQK6PAS0rF2mSIrIAq2DjKoTFVAGMFCTyC+jCaoTADhDDMhj41CW2BSx/QhrBgAOEKiSFj9inAKJ5vDvu5AjdPAzKpZpAV317981+szOzc2NZV8/Vc/WcPyq9XGwBXC52AXqXiS0P4PQy8f9P4PCi9ysf32jvovclKVACTZuWQvgD8U1ICBde8fuScOITeNchHMI//D4hjuXMW23Kfn1MuJKMasTZhseEtSFOEbYJ293wjDjjCVeR/fI5b9SNvyNj85Q5LS5sW5sal/ucsPVGkxPXgxE7Dc0ZFe11OKaNvHhT5gk5WYl/gDnWxwFh2ARyVHUPNkZ4sdfW62Rhrwc99pR2Ugucsi455MbrNfJnsr5PtgZAA21kNHWRmLRcIQDAu3riNNkiIKeNJmH33KDH1il/YQENcUp8jXwVZO6xAEElTuaNF0cYn+bWCcQsrU8pHdq8T5GfCeR89UgbCrzHWhBAiAt1nEUFNnP3+gmcaBLo4mG8YWCmg2V+ta/jBgqoEQmYHQinKPBgYXDr3MB5A/CES2QHBdRxEE8fL/OL/SDeJNIJW94BeJrXaSWqg574+RWZ6tFuE/14v422/gMd/9XJ+S2j5zm/8FtgbkUosP0Izz5b7Zo+XmrzrTbPdN4IXgHsaiy27g7ezPK/OunXcn7TwCzn29PQfHWEN/9khAVuVgHe4QL+BPgb8k2rWQ6osFWI/aQ4g+Q18vsGpsh/HUITr28poQKHLAcDXDTHBsazfHEthPGcBDQ2soLWyUGO7+0AnNzPFxuhMUQyJNAaQ/I1LspBEsZHJKC5Y6kmBssOQuqgN+oAk7vUWZOYSLOU+6RhgWv9EKa0mkKD+q/6ntpMo0n3r7AQ6NCNmg2J9BMJFIbQ50ZZfwsT0R7vURtUDwne6JOAvai6GglM71Invk0Czn05Vcg/UdYIDkhMccv9lHtLxtfcNcF8w62eBOyND6eKUAqwtIp7Ys7RxDcsYATdDVJBFwIq4S9eog1/CGsXCahRI71IwOYytbRhpy01b7HADKhKLT8Uk9poC+HakzvU6190RayTiGALmiwAqeL4zvh3YPnPhcDDBsHdVeIPbwuBlyygjBT4/XO+vEPNrMoLMV7+TH8TGFSJH38pYr11xr6ZhkjIL5+RQTXSzPJYyzU/atwpPConF7zOdmWnK8anVmGZToES6J/5PM94qRBos0CnwAKOEFBi1ooqEZ++7fC/7rAqRz6GcVv1lvlu6gQi1sJ0UEo/IuCz256RWmttHB7aDo4bzr7cVYvKjISAqdl4ziLs+Rx4j5PszSzVXuY7qSWqZYuhH63QKOhmrRp/YmU49Y94VwEH9g+9Zb77tiZCWhYw8gCt3ewsGN+CaSuRZAGjEsU9O6JP+TgUpVMSMHXoZ+Jl9STc4HHc0ns8mu47mPHiwiE8PrTXeDhd4ZytiPunFh6JlJPbNsMScOrLCwEOnpKsGkOu3pvZUQo02LucWOtXnvBFrVQy6InbCNTTrS/Ydutc4D87Oo3Jue8WAwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAAwAQMAAAAitD89AAAABlBMVEUEAAAAAP8T9BRUAAAAAXRSTlMAQObYZgAAAClJREFUSMdjYBgFo2AIARYFECkIZgvgUsQBJjtGQ2sUjIJRMApGAZUAAFfgANbjk6O6AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAAwAgMAAABlFEXtAAAADFBMVEVlLWeAAADAAAD/AAAyDttBAAAAAXRSTlMAQObYZgAAAe9JREFUWMPtVjtSwzAQ3VgpXGiYQC5g7JZClhoqcEFB4UO5SJFCHUfgAhyAwkWG0TA6EgWmYPd5Rpk4JJMGb7WJVqt9+3lrollmmWWWWWaZ5R+JjqLH/vz+lXWGdefk4JS3lEMAniHoIGiUEZvFNK+QCUiFAwQZIoiTHmggVHBaGUQgBzqIvZkUNjyAwcWOJGpbpFDS9uhuEbXC6AAZ5XQsApCS0h2Spev0h34HvaD0a/oUBHt8jqI+GwJzUQTyQz3CwR11B6d0EoKHd9E/3yRJlcXLXnrcJ0kko3sI4gtm6+NFuKgW2hgmsKEESalSmtxioF6GtL96hfmrW+AiVwuCCiYztGyzefYpylkI4wz00/Yw1RDdCIGHKK75NXdbsn1dQT2CIGgjjLIzGhHIgaoBQdcJmJztwxMwot2HYHMjCIzfQUhwOWObqliznmWAAHxqRGBXS86F3qkiuRBix60TN8sAfwPBibq2QHC6y9iTK6hPrVJlmYuVW3HYyiIC8Jn3a4Njw72ge4CmLN7Vv0UIHQkagpnA8pHUiWKzcLIyYOPoLWZLoia2H6BDHkd7SxnsFS6PHkooXovkoguN2EfMS2lw30SkJZVMJKhg8BNQlVxdOdQgCBmpMfeZg2waxjuwT3WdOomJp+wDfaGPxm9UVINdRAb+hAAAAABJRU5ErkJggg==\"","import nullImg from \"../assets/images/sprites/null.png\";\r\nimport skinMale from \"../assets/images/sprites/character/skin/m.png\";\r\nimport skinFemale from \"../assets/images/sprites/character/skin/m.png\"; // TODO!\r\nimport eyes from \"../assets/images/sprites/character/eyes.png\";\r\nimport mHairBald from \"../assets/images/sprites/character/hair/m/0f.png\";\r\n\r\nconst skinColorMap = [\r\n\t{\r\n\t\tg: {\r\n\t\t\ttone: [ 0.9375, 0.825, 0.8125 ],\r\n\t\t\thalfTone: [ 0.753, 0.565, 0.502 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tg: {\r\n\t\t\ttone: [ 0.910, 0.784, 0.753 ],\r\n\t\t\thalfTone: [ 0.627, 0.471, 0.376 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tg: {\r\n\t\t\ttone: [ 0.8, 0.65, 0.5875 ],\r\n\t\t\thalfTone: [ 0.5, 0.35, 0.3 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tg: {\r\n\t\t\ttone: [ 0.6875, 0.5675, 0.5 ],\r\n\t\t\thalfTone: [ 0.375, 0.3, 0.2875 ]\r\n\t\t}\r\n\t}\r\n];\r\n\r\nconst eyeColorMap = [\r\n\t{\r\n\t\tb: {\r\n\t\t\ttone: [ 0.5, 0.75, 1.00 ],\r\n\t\t\thalfTone: [ 0.25, 0.375, 0.5 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tb: {\r\n\t\t\ttone: [ 0.375, 0.4325, 0.75 ],\r\n\t\t\thalfTone: [ 0.125, 0.25, 0.375 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tb: {\r\n\t\t\ttone: [ 0.5, 0.625, 0.375 ],\r\n\t\t\thalfTone: [ 0.3125, 0.375, 0.25 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tb: {\r\n\t\t\ttone: [ 0.5, 0.5, 0.25 ],\r\n\t\t\thalfTone: [ 0.25, 0.1875, 0.125 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tb: {\r\n\t\t\ttone: [ 0.375, 0.3125, 0.25 ],\r\n\t\t\thalfTone: [ 0.25, 0.1875, 0.125 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tb: {\r\n\t\t\ttone: [ 0.5, 0.5625, 0.625 ],\r\n\t\t\thalfTone: [ 0.25, 0.2725, 0.375 ]\r\n\t\t}\r\n\t}\r\n];\r\n\r\nconst hairColorMap = [\r\n\t{\r\n\t\tr: {\r\n\t\t\ttone: [ 0.75, 0.7125, 0.5 ],\r\n\t\t\thalfTone: [ 0.5, 0.4875, 0.25 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tr: {\r\n\t\t\ttone: [ 0.75, 0.45, 0.25 ],\r\n\t\t\thalfTone: [ 0.5, 0.35, 0.325 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tr: {\r\n\t\t\ttone: [ 0.5, 0.3, 0.2 ],\r\n\t\t\thalfTone: [ 0.375, 0.25, 0.1875 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tr: {\r\n\t\t\ttone: [ 0.375, 0.3125, 0.25 ],\r\n\t\t\thalfTone: [ 0.25, 0.1875, 0.125 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tr: {\r\n\t\t\ttone: [ 0.25, 0.2, 0.15 ],\r\n\t\t\thalfTone: [ 0.15, 0.125, 0.1 ]\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tr: {\r\n\t\t\ttone: [ 0.15, 0.15, 0.15 ],\r\n\t\t\thalfTone: [ 0.0625, 0.0625, 0.0625 ]\r\n\t\t}\r\n\t},\r\n]\r\n\r\nconst characterAtlas = {\r\n\tskin: {\r\n\t\tm: {\r\n\t\t\tname: \"skinMale\",\r\n\t\t\tsource: skinMale,\r\n\t\t\tcolorMap: skinColorMap\r\n\t\t},\r\n\t\tf: {\r\n\t\t\tname: \"skinFemale\",\r\n\t\t\tsource: skinFemale,\r\n\t\t\tcolorMap: skinColorMap\r\n\t\t},\r\n\t},\r\n\teyes: {\r\n\t\tm: {\r\n\t\t\tname: \"eyes\",\r\n\t\t\tsource: eyes,\r\n\t\t\tcolorMap: eyeColorMap\r\n\t\t},\r\n\t\tf: {\r\n\t\t\tname: \"eyes\",\r\n\t\t\tsource: eyes,\r\n\t\t\tcolorMap: eyeColorMap\r\n\t\t}\r\n\t},\r\n\thair0f: {\r\n\t\tm: {\r\n\t\t\tname: \"hair0f\",\r\n\t\t\tsource: mHairBald,\r\n\t\t\tcolorMap: hairColorMap\r\n\t\t},\r\n\t\tf: {\r\n\t\t\tname: \"hair0f\",\r\n\t\t\tsource: mHairBald, // TODO!\r\n\t\t\tcolorMap: hairColorMap\r\n\t\t},\r\n\t},\r\n\thair0b: {\r\n\t\tm: {\r\n\t\t\tname: \"hair0b\",\r\n\t\t\tsource: nullImg,\r\n\t\t\tcolorMap: hairColorMap\r\n\t\t},\r\n\t\tf: {\r\n\t\t\tname: \"hair0b\",\r\n\t\t\tsource: nullImg,\r\n\t\t\tcolorMap: hairColorMap\r\n\t\t},\r\n\t},\r\n\tbeard0f: {\r\n\t\tm: {\r\n\t\t\tname: \"beard0f\",\r\n\t\t\tsource: nullImg,\r\n\t\t\tcolorMap: hairColorMap\r\n\t\t}\r\n\t},\r\n\tbeard0b: {\r\n\t\tm: {\r\n\t\t\tname: \"beard0b\",\r\n\t\t\tsource: nullImg,\r\n\t\t\tcolorMap: hairColorMap\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst workingCanvas = document.createElement(\"canvas\");\r\nconst loadedSprites = {};\r\n\r\nconst applyColorMap = (imgData, colorMap) => {\r\n\tfor (var px = 0; px < imgData.length; px += 4) {\r\n\t\tlet a = imgData[px + 3];\r\n\r\n\t\tif (a) {\r\n\t\t\tlet r = imgData[px];\r\n\t\t\tlet g = imgData[px + 1];\r\n\t\t\tlet b = imgData[px + 2];\r\n\t\t\tlet finalR = 0;\r\n\t\t\tlet finalG = 0;\r\n\t\t\tlet finalB = 0;\r\n\r\n\t\t\tif (colorMap.r) {\r\n\t\t\t\tlet tone = r / 255;\r\n\r\n\t\t\t\tif (tone >= 0.5) {\r\n\t\t\t\t\ttone = 2 * (tone - 0.5);\r\n\t\t\t\t\tfinalR += r * ((tone) * colorMap.r.tone[0] + (1 - tone) * colorMap.r.halfTone[0]);\r\n\t\t\t\t\tfinalG += r * ((tone) * colorMap.r.tone[1] + (1 - tone) * colorMap.r.halfTone[1]);\r\n\t\t\t\t\tfinalB += r * ((tone) * colorMap.r.tone[2] + (1 - tone) * colorMap.r.halfTone[2]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttone = 2 * tone;\r\n\t\t\t\t\tfinalR += tone * r * colorMap.r.halfTone[0];\r\n\t\t\t\t\tfinalG += tone * r * colorMap.r.halfTone[1];\r\n\t\t\t\t\tfinalB += tone * r * colorMap.r.halfTone[2];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfinalR += r;\r\n\t\t\t}\r\n\r\n\t\t\tif (colorMap.g) {\r\n\t\t\t\tlet tone = g / 255;\r\n\r\n\t\t\t\tif (tone >= 0.5) {\r\n\t\t\t\t\ttone = 2 * (tone - 0.5);\r\n\t\t\t\t\tfinalR += g * ((tone) * colorMap.g.tone[0] + (1 - tone) * colorMap.g.halfTone[0]);\r\n\t\t\t\t\tfinalG += g * ((tone) * colorMap.g.tone[1] + (1 - tone) * colorMap.g.halfTone[1]);\r\n\t\t\t\t\tfinalB += g * ((tone) * colorMap.g.tone[2] + (1 - tone) * colorMap.g.halfTone[2]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttone = 2 * tone;\r\n\t\t\t\t\tfinalR += tone * g * colorMap.r.halfTone[0];\r\n\t\t\t\t\tfinalG += tone * g * colorMap.r.halfTone[1];\r\n\t\t\t\t\tfinalB += tone * g * colorMap.r.halfTone[2];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfinalG += g;\r\n\t\t\t}\r\n\r\n\t\t\tif (colorMap.b) {\r\n\t\t\t\tlet tone = b / 255;\r\n\r\n\t\t\t\tif (tone >= 0.5) {\r\n\t\t\t\t\ttone = 2 * (tone - 0.5);\r\n\t\t\t\t\tfinalR += b * ((tone) * colorMap.b.tone[0] + (1 - tone) * colorMap.b.halfTone[0]);\r\n\t\t\t\t\tfinalG += b * ((tone) * colorMap.b.tone[1] + (1 - tone) * colorMap.b.halfTone[1]);\r\n\t\t\t\t\tfinalB += b * ((tone) * colorMap.b.tone[2] + (1 - tone) * colorMap.b.halfTone[2]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttone = 2 * tone;\r\n\t\t\t\t\tfinalR += tone * b * colorMap.r.halfTone[0];\r\n\t\t\t\t\tfinalG += tone * b * colorMap.r.halfTone[1];\r\n\t\t\t\t\tfinalB += tone * b * colorMap.r.halfTone[2];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfinalB += b;\r\n\t\t\t}\r\n\r\n\t\t\timgData[px] = finalR;\r\n\t\t\timgData[px + 1] = finalG;\r\n\t\t\timgData[px + 2] = finalB;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const cacheCharacterSprite = (char, key, num, handler) => {\r\n\tlet sexPath = (char?.sex === \"SEX_FEMALE\") ? \"f\" : \"m\";\r\n\r\n\tnum = Math.min(num, characterAtlas[key][sexPath].colorMap.length - 1);\r\n\t\r\n\tif (!loadedSprites[sexPath + key + num]) {\r\n\t\tlet tmpImage = new Image();\r\n\t\ttmpImage.src = characterAtlas[key][sexPath].source;\r\n\t\ttmpImage.onload = () => {\r\n\t\t\tlet ctx = workingCanvas.getContext(\"2d\");\r\n\t\t\tworkingCanvas.width = tmpImage.width;\r\n\t\t\tworkingCanvas.height = tmpImage.height;\r\n\t\t\tctx.clearRect(0, 0, workingCanvas.width, workingCanvas.height);\r\n\t\t\tctx.drawImage(tmpImage, 0, 0);\r\n\t\t\tlet tmpData = ctx.getImageData(0, 0, workingCanvas.width, workingCanvas.height);\r\n\r\n\t\t\tapplyColorMap(tmpData.data,characterAtlas[key][sexPath].colorMap[num]);\r\n\r\n\t\t\tctx.putImageData(tmpData, 0, 0);\r\n\r\n\t\t\tloadedSprites[sexPath + key + num] = workingCanvas.toDataURL(\"image/png\");\r\n\r\n\t\t\tif (handler) handler();\r\n\t\t};\r\n\t}\r\n}\r\n\r\nexport function getHairList() {\r\n\treturn [ \"hair0\" ];\r\n}\r\n\r\nexport function getBeardList() {\r\n\treturn [ \"beard0\" ];\r\n}\r\n\r\nexport const getSpriteCount = (char, key) => {\r\n\tlet sex = \"m\";\r\n\r\n\tif (char?.sex === \"SEX_FEMALE\")\r\n\t\tsex = \"f\";\r\n\t\r\n\treturn characterAtlas[key][sex].colorMap.length;\r\n}\r\n\r\nexport const getCharacterSprite = (char, key, num) => {\r\n\tlet sexPath = (char?.sex === \"SEX_FEMALE\") ? \"f\" : \"m\";\r\n\r\n\tnum = Math.min(num, characterAtlas[key][sexPath].colorMap.length - 1);\r\n\r\n\tlet imgData = loadedSprites[sexPath + key + num];\r\n\r\n\treturn imgData;\r\n}","// The random number table from DOOM.  Can't argue with the classics.\r\nconst rndtable = [\r\n      0,   8, 109, 220, 222, 241, 149, 107,  75, 248, 254, 140,  16,  66,  74,  21,\r\n\t211,  47,  80, 242, 154,  27, 205, 128, 161,  89,  77,  36,  95, 110,  85,  48,\r\n\t212, 140, 211, 249,  22,  79, 200,  50,  28, 188,  52, 140, 202, 120,  68, 145,\r\n\t 62,  70, 184, 190,  91, 197, 152, 224, 149, 104,  25, 178, 252, 182, 202, 182,\r\n\t141, 197,   4,  81, 181, 242, 145,  42,  39, 227, 156, 198, 225, 193, 219,  93,\r\n\t122, 175, 249,   0, 175, 143,  70, 239,  46, 246, 163,  53, 163, 109, 168, 135,\r\n\t  2, 235,  25,  92,  20, 145, 138,  77,  69, 166,  78, 176, 173, 212, 166, 113,\r\n     94, 161,  41,  50, 239,  49, 111, 164,  70,  60,   2,  37, 171,  75, 136, 156,\r\n\t 11,  56,  42, 146, 138, 229,  73, 146,  77,  61,  98, 196, 135, 106,  63, 197,\r\n\t195,  86,  96, 203, 113, 101, 170, 247, 181, 113,  80, 250, 108,   7, 255, 237,\r\n\t129, 226,  79, 107, 112, 166, 103, 241,  24, 223, 239, 120, 198,  58,  60,  82,\r\n\t128,   3, 184,  66, 143, 224, 145, 224,  81, 206, 163,  45,  63,  90, 168, 114,\r\n\t 59,  33, 159,  95,  28, 139, 123,  98, 125, 196,  15,  70, 194, 253,  54,  14,\r\n\t109, 226,  71,  17, 161,  93, 186,  87, 244, 138,  20,  52, 123, 251,  26,  36,\r\n     17,  46,  52, 231, 232,  76,  31, 221,  84,  37, 216, 165, 212, 106, 197, 242,\r\n\t 98,  43,  39, 175, 254, 145, 190,  84, 118, 222, 187, 136, 120, 163, 236, 249\r\n];\r\n\r\nvar rndindex = 0;\r\n\r\nexport function setRandomSeed(seed) {\r\n\tif (seed != null) {\r\n\t\trndindex = seed;\r\n\t} else {\r\n\t\trndindex = Math.floor(rndtable.length * Math.random());\r\n\t}\r\n}\r\n\r\nexport function saveRandomSeed() {\r\n\treturn rndindex;\r\n}\r\n\r\nexport function getRandom() {\r\n\trndindex = (rndindex + 1) % rndtable.length;\r\n\treturn rndtable[rndindex];\r\n}","import namedata from \"../assets/data/namegeneration.json\";\r\nimport localize from \"../localization\";\r\nimport { setRandomSeed, getRandom } from \"./random\";\r\n\r\nfunction combine(original, addition) {\r\n\tfor (var i = addition.length - 2; i > 0; i--) {\r\n\t\tif (original.endsWith(addition.substring(0, i))) {\r\n\t\t\treturn original + addition.substring(i);\r\n\t\t}\r\n\t}\r\n\r\n\treturn original + addition;\r\n}\r\n\r\nexport function generateRandomName(seed, isFemale) {\r\n\tsetRandomSeed(seed);\r\n\tlet nameSet = (isFemale) ? namedata.names.female : namedata.names.male;\r\n\tlet nameForm = (nameSet.length > 1) ? getRandom() % nameSet.length : 0;\r\n\tlet result = nameSet[nameForm].start[getRandom() % nameSet[nameForm].start.length];\r\n\tlet newPiece;\r\n\t\r\n\tif (nameSet[nameForm].middle) {\r\n\t\tnewPiece = nameSet[nameForm].middle[getRandom() % nameSet[nameForm].middle.length];\r\n\r\n\t\twhile (result.toLowerCase().endsWith(newPiece.charAt(newPiece.length - 1))) {\r\n\t\t\tnewPiece = nameSet[nameForm].middle[getRandom() % nameSet[nameForm].middle.length];\r\n\t\t}\r\n\r\n\t\tresult = combine(result, newPiece);\r\n\t}\r\n\r\n\tnewPiece = nameSet[nameForm].end[getRandom() % nameSet[nameForm].end.length];\r\n\r\n\twhile (result.toLowerCase().endsWith(newPiece.charAt(newPiece.length - 1))) {\r\n\t\tnewPiece = nameSet[nameForm].end[getRandom() % nameSet[nameForm].end.length];\r\n\t}\r\n\r\n\tresult = combine(result, newPiece);\r\n\r\n\treturn result;\r\n}\r\n\r\nexport function generateRandomSurname(seed, noCityNames) {\r\n\tsetRandomSeed(seed);\r\n\tlet nameSet = namedata.surnames;\r\n\tlet nameForm = (nameSet.length > 1) ? getRandom() % nameSet.length : 0;\r\n\tlet result;\r\n\tlet newPiece;\r\n\r\n\tif ((noCityNames) || (getRandom() % 5)) {\r\n\t\tresult = nameSet[nameForm].start[getRandom() % nameSet[nameForm].start.length];\r\n\r\n\t\tif (nameSet[nameForm].middle) {\r\n\t\t\tfor (let i = getRandom() % 2; i >= 0; i--) {\r\n\t\t\t\tnewPiece = nameSet[nameForm].middle[getRandom() % nameSet[nameForm].middle.length];\r\n\r\n\t\t\t\twhile (result.toLowerCase().endsWith(newPiece.charAt(newPiece.length - 1))) {\r\n\t\t\t\t\tnewPiece = nameSet[nameForm].middle[getRandom() % nameSet[nameForm].middle.length];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresult = combine(result, newPiece);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tnewPiece = nameSet[nameForm].end[getRandom() % nameSet[nameForm].end.length];\r\n\r\n\t\twhile (result.toLowerCase().endsWith(newPiece.charAt(newPiece.length - 1))) {\r\n\t\t\tnewPiece = nameSet[nameForm].end[getRandom() % nameSet[nameForm].end.length];\r\n\t\t}\r\n\r\n\t\tresult = combine(result, newPiece);\r\n\t} else {\r\n\t\tresult = localize(\"CHARACTER_NAME_OF\").replace(/{CITY}/, generateCityNameInternal())\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nexport function generateCityName(seed) {\r\n\tsetRandomSeed(seed);\r\n\tgenerateCityNameInternal();\r\n}\r\n\r\nfunction generateCityNameInternal() {\r\n\tlet nameSet = namedata.cities;\r\n\tlet nameForm = (nameSet.length > 1) ? getRandom() % nameSet.length : 0;\r\n\tlet result = nameSet[nameForm].start[getRandom() % nameSet[nameForm].start.length];\r\n\tlet newPiece;\r\n\r\n\tfor (let i = getRandom() % 2; i >= 0; i--) {\r\n\t\tnewPiece = nameSet[nameForm].middle[getRandom() % nameSet[nameForm].middle.length];\r\n\r\n\t\twhile (result.toLowerCase().endsWith(newPiece.charAt(newPiece.length - 1))) {\r\n\t\t\tnewPiece = nameSet[nameForm].middle[getRandom() % nameSet[nameForm].middle.length];\r\n\t\t}\r\n\r\n\t\tresult = combine(result, newPiece);\r\n\t}\r\n\r\n\tnewPiece = nameSet[nameForm].end[getRandom() % nameSet[nameForm].end.length];\r\n\r\n\twhile (result.toLowerCase().endsWith(newPiece.charAt(newPiece.length - 1))) {\r\n\t\tnewPiece = nameSet[nameForm].end[getRandom() % nameSet[nameForm].end.length];\r\n\t}\r\n\r\n\tresult = combine(result, newPiece);\r\n\r\n\treturn result;\r\n}","import localize from \"../../../localization\";\r\nimport { cacheCharacterSprite, getHairList, getBeardList, getSpriteCount, getCharacterSprite } from \"../../../lib/spriteAtlas\"\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport { generateRandomName, generateRandomSurname } from \"../../../utils/namegeneration\";\r\nimport { SET_PLAYER_CUSTOMIZATION, SET_PLAYER_NAME } from \"../../../utils/actions\";\r\nimport { useStoreContext } from \"../../../utils/GlobalState\";\r\n\r\nimport './CharacterCreationCustomize.css';\r\n\r\nfunction CharacterCreationCustomize({props, closeScroll}) {\r\n\tconst hairList = getHairList();\r\n\tconst beardList = getBeardList();\r\n\tconst [state, dispatch] = useStoreContext();\r\n\tconst [charName, setCharName] = useState(state.party.player.name || \"\");\r\n\tconst [charSurname, setCharSurname] = useState(state.party.player.surname || \"\");\r\n\tconst [rotation, setRotation] = useState(0);\r\n\tconst [curSkin, setCurSkin] = useState(state.party.player.customization?.skin || 0);\r\n\tconst [curEyes, setCurEyes] = useState(state.party.player.customization?.eyes || 0);\r\n\tconst [curHairStyle, setCurHairStyle] = useState(state.party.player.customization?.hairStyle || hairList[0]);\r\n\tconst [curBeardStyle, setCurBeardStyle] = useState((state.party.player.sex === \"SEX_FEMALE\") ? null : (state.party.player.customization?.beardStyle || beardList[0]));\r\n\tconst [curHairColor, setCurHairColor] = useState(state.party.player.customization?.hairColor || 0);\r\n\tconst [curTimeout, setCurTimeout] = useState(undefined);\r\n\tconst [spritesLoaded, setSpritesLoaded] = useState(0);\r\n\r\n\tconst randomizeCharacterName = () => {\r\n\t\tsetCharName(generateRandomName(null, state.party.player.sex === \"SEX_FEMALE\"));\r\n\t\tsetCharSurname(generateRandomSurname(null, state.party.player.family === \"CHARACTER_FAMILY_NOBILITY\"));\r\n\t}\r\n\r\n\tconst changeRotation = (offset) => {\r\n\t\tlet newRotation = (rotation + offset) % 8;\r\n\t\t\r\n\t\tif (newRotation < 0)\r\n\t\t\tnewRotation += 8;\r\n\r\n\t\tsetRotation(newRotation);\r\n\t}\r\n\r\n\tconst changeCharacterSkin = (offset) => {\r\n\t\tlet spriteCount = getSpriteCount(state.party.player, \"skin\");\r\n\t\tlet newSprite = (curSkin + offset) % spriteCount;\r\n\r\n\t\tif (newSprite < 0)\r\n\t\t\tnewSprite += spriteCount;\r\n\t\t\r\n\t\tsetCurSkin(newSprite);\r\n\t}\r\n\r\n\tconst changeCharacterEyes = (offset) => {\r\n\t\tlet spriteCount = getSpriteCount(state.party.player, \"eyes\");\r\n\t\tlet newSprite = (curEyes + offset) % spriteCount;\r\n\r\n\t\tif (newSprite < 0)\r\n\t\t\tnewSprite += spriteCount;\r\n\t\t\r\n\t\tsetCurEyes(newSprite);\r\n\t}\r\n\r\n\tconst changeCharacterHairStyle = (offset) => {\r\n\t\tlet newStyle = (hairList.indexOf(curHairStyle) + offset) % hairList.length;\r\n\r\n\t\tif (newStyle < 0)\r\n\t\t\tnewStyle += hairList.length;\r\n\t\t\r\n\t\tsetCurHairStyle(hairList[newStyle]);\r\n\t}\r\n\r\n\tconst changeCharacterBeardStyle = (offset) => {\r\n\t\tlet newStyle = (beardList.indexOf(curBeardStyle) + offset) % beardList.length;\r\n\r\n\t\tif (newStyle < 0)\r\n\t\t\tnewStyle += beardList.length;\r\n\t\t\r\n\t\tsetCurBeardStyle(beardList[newStyle]);\r\n\t}\r\n\r\n\tconst changeCharacterHairColor = (offset) => {\r\n\t\tlet spriteCount = getSpriteCount(state.party.player, curHairStyle + \"f\");\r\n\t\tlet newSprite = (curHairColor + offset) % spriteCount;\r\n\r\n\t\tif (newSprite < 0)\r\n\t\t\tnewSprite += spriteCount;\r\n\t\t\r\n\t\tsetCurHairColor(newSprite);\r\n\t}\r\n\r\n\tconst finishCustomization = () => {\r\n\t\tcloseScroll();\r\n\t\tsetCurTimeout(setTimeout(() => { props.changeMode(-1); }, 500));\r\n\t}\r\n\r\n\tconst cancelCustomization = () => {\r\n\t\tcloseScroll();\r\n\t\tsetCurTimeout(setTimeout(() => { props.changeMode(0); }, 500));\r\n\t}\r\n\r\n\tconst displayCharacterControls = (name, func) => {\r\n\t\treturn (<div>\r\n\t\t\t<button type=\"button\" className=\"small\" onClick={() => {func(-1);}}>-</button>\r\n\t\t\t<div>{name}</div>\r\n\t\t\t<button type=\"button\" className=\"small\" onClick={() => {func(1);}}>+</button>\r\n\t\t</div>);\r\n\t}\r\n\r\n\tconst doSpritePreload = (key) => {\r\n\t\tvar cnt = getSpriteCount(state.party.player, key);\r\n\r\n\t\tfor (var i = 0; i < cnt; i++) {\r\n\t\t\tcacheCharacterSprite(state.party.player, key, i, () => { setSpritesLoaded(spritesLoaded + 1); });\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({\r\n\t\t\ttype: SET_PLAYER_NAME,\r\n\t\t\tname: charName || \"\",\r\n\t\t\tsurname: charSurname || \"\"\r\n\t\t});\r\n\t}, [charName, charSurname, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst customization = {\r\n\t\t\tskin: curSkin,\r\n\t\t\teyes: curEyes,\r\n\t\t\thairStyle: curHairStyle,\r\n\t\t\thairColor: curHairColor,\r\n\t\t};\r\n\r\n\t\tif (state.party.player.sex !== \"SEX_FEMALE\") customization.beardStyle = curBeardStyle;\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: SET_PLAYER_CUSTOMIZATION,\r\n\t\t\tcustomization\r\n\t\t});\r\n\t}, [curSkin, curEyes, curHairStyle, curBeardStyle, curHairColor, dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => { clearTimeout(curTimeout); }\r\n\t}, [ curTimeout ]);\r\n\r\n\tdoSpritePreload(\"eyes\");\r\n\tdoSpritePreload(\"skin\");\r\n\t\r\n\tfor (let i = 0; i < hairList.length; i++) {\r\n\t\tdoSpritePreload(hairList[i] + \"f\");\r\n\t\tdoSpritePreload(hairList[i] + \"b\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"charCreateCustomization\">\r\n\t\t\t<h1>Customize</h1>\r\n\t\t\t<div id=\"characterNameSection\">\r\n\t\t\t\t<input id=\"characterName\" type=\"text\" placeholder={localize(\"CHARACTER_NAME\")} maxLength=\"10\" value={charName} onChange={(event) => {setCharName(event.target.value);}}></input>\r\n\t\t\t\t<input id=\"characterSurname\" type=\"text\" placeholder={localize(\"CHARACTER_SURNAME\")} maxLength=\"24\" value={charSurname} onChange={(event) => {setCharSurname(event.target.value);}}></input>\r\n\t\t\t\t<button id=\"characterNameRandom\" type=\"button\" onClick={randomizeCharacterName}>{localize(\"BUTTON_RANDOM\")}</button>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"createCharacterSprite\">\r\n\t\t\t\t<div id=\"characterSpriteHolder\">\r\n\t\t\t\t\t<div className=\"rotateLeft cursorGlow\" onClick={() => {changeRotation(-1);}} />\r\n\t\t\t\t\t<div id=\"characterSpriteFrame\" className={\"rotate\" + rotation}>\r\n\t\t\t\t\t\t<div style={{backgroundImage: `url(${getCharacterSprite(state.party.player, curHairStyle + \"b\", curHairColor)}`}} />\r\n\t\t\t\t\t\t{(state.party.player.sex !== \"SEX_FEMALE\") ? <div style={{backgroundImage: `url(${getCharacterSprite(state.party.player, curBeardStyle + \"b\", curHairColor)}`}} /> : <></>}\r\n\t\t\t\t\t\t<div style={{backgroundImage: `url(${getCharacterSprite(state.party.player, \"skin\", curSkin)}`}} />\r\n\t\t\t\t\t\t<div style={{backgroundImage: `url(${getCharacterSprite(state.party.player, \"eyes\", curEyes)}`}} />\r\n\t\t\t\t\t\t<div style={{backgroundImage: `url(${getCharacterSprite(state.party.player, curHairStyle + \"f\", curHairColor)}`}} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rotateRight cursorGlow\" onClick={() => {changeRotation(1);}} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"characterSpriteOptions\">\r\n\t\t\t\t\t{displayCharacterControls(localize(\"CUSTOMIZE_SKIN\"), changeCharacterSkin)}\r\n\t\t\t\t\t{displayCharacterControls(localize(\"CUSTOMIZE_EYES\"), changeCharacterEyes)}\r\n\t\t\t\t\t{displayCharacterControls(localize(\"CUSTOMIZE_HAIR_STYLE\"), changeCharacterHairStyle)}\r\n\t\t\t\t\t{(state.party.player.sex !== \"SEX_FEMALE\") ? displayCharacterControls(localize(\"CUSTOMIZE_HAIR_FACIAL\"), changeCharacterBeardStyle) : <></>}\r\n\t\t\t\t\t{displayCharacterControls(localize(\"CUSTOMIZE_HAIR_COLOR\"), changeCharacterHairColor)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"createCharacterButtonHolder\">\r\n\t\t\t\t\t<div className={((charName) && (charSurname)) ? \"cursorGlow\" : \"inactive\"} onClick={finishCustomization}>{localize(\"BUTTON_START_GAME\")}</div>\r\n\t\t\t\t\t<div className=\"cursorGlow\" onClick={cancelCustomization}>{localize(\"BUTTON_BACK\")}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CharacterCreationCustomize;","import React, { useState } from \"react\";\r\nimport MenuScroll from \"../UI/MenuScroll/MenuScroll\";\r\nimport CharacterCreationStats from \"../CharacterCreation/Stats/CharacterCreationStats\";\r\nimport CharacterCreationCustomize from \"../CharacterCreation/Customize/CharacterCreationCustomize\";\r\n\r\nimport './NewGame.css';\r\n\r\nfunction NewGame({transitionCallback}) {\r\n\tconst [ creationMode, setCreationMode ] = useState(0);\r\n\tconst [ lastMode, setLastMode ] = useState(-1);\r\n\r\n\tconst changeMode = (mode) => {\r\n\t\tif (mode < 0)\r\n\t\t\ttransitionCallback(0); // Back to main menu.\r\n\t\telse {\r\n\t\t\tsetLastMode(creationMode);\r\n\t\t\tsetCreationMode(mode);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"newGame\">\r\n\t\t\t{(creationMode === 0) ? <MenuScroll MyComponent={CharacterCreationStats} height={284} width={420} delay={(lastMode >= 0) ? 200 : 500} props={{changeMode}} /> : <></>}\r\n\t\t\t{(creationMode === 1) ? <MenuScroll MyComponent={CharacterCreationCustomize} height={284} width={420} delay={200} props={{changeMode}} /> : <></>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NewGame;","import React, { useRef, useEffect, useState } from \"react\";\r\nimport MainMenu from \"../../components/MainMenu/MainMenu\";\r\nimport NewGame from \"../../components/NewGame/NewGame\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport './GameMenu.css';\r\n\r\nconst menuStates = [\r\n\t\"MainMenu\",\r\n\t\"NewGame\",\r\n]\r\n\r\nfunction GameMenu() {\r\n\tconst menuRef = useRef(null);\r\n\tconst [showItems, setShowItems] = useState(true);\r\n\tconst [menuState, setMenuState] = useState(menuStates[0]);\r\n\tconst [menuTransition, setMenuTransition] = useState(false);\r\n\r\n\tconst changeMenu = function(index) {\r\n\t\tsetShowItems(false);\r\n\t\tsetMenuTransition(menuStates[index]);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!menuTransition) return;\r\n\r\n\t\tvar transition = setTimeout(() => { setMenuState(menuTransition); setShowItems(true); }, 1000);\r\n\r\n\t\treturn () => { clearTimeout(transition); }\r\n\t}, [ menuTransition ]);\r\n\r\n\treturn (\r\n\t\t<CSSTransition\r\n\t\t\tnodeRef={menuRef}\r\n\t\t\tin={showItems}\r\n\t\t\tappear={true}\r\n\t\t\ttimeout={(showItems) ? 1000 : 500}\r\n\t\t\tclassNames=\"show\"\r\n\t\t>\r\n\t\t\t<div id=\"gameMenu\"  ref={menuRef}>\r\n\t\t\t\t{(menuState === menuStates[0]) ? <MainMenu transitionCallback={changeMenu} /> : <></>}\r\n\t\t\t\t{(menuState === menuStates[1]) ? <NewGame transitionCallback={changeMenu} /> : <></>}\r\n\t\t\t</div>\r\n\t\t</CSSTransition>\r\n\t);\r\n}\r\n\r\nexport default GameMenu;","import { useResizeDetector } from 'react-resize-detector';\nimport { StoreProvider } from './utils/GlobalState';\nimport './App.css';\n\nimport GameMenu from \"./pages/GameMenu/GameMenu\";\n\nfunction App() {\n  const { width, ref } = useResizeDetector();\n  const scaleFactor = width / 480 || 1;\n\n  return (\n    <div id=\"screenContainer\" ref={ref}>\n      <div id=\"viewport\" style={{transform: \"scale(\" + scaleFactor +\")\"}}>\n        <StoreProvider>\n          <GameMenu />\n        </StoreProvider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\nserviceWorker.register();\n"],"sourceRoot":""}